{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import axios from'axios';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_BASE_URL=process.env.NODE_ENV==='production'?'':'http://localhost:8000';function App(){const[messages,setMessages]=useState([]);const[inputMessage,setInputMessage]=useState('');const[isLoading,setIsLoading]=useState(false);const[suggestedPrompts,setSuggestedPrompts]=useState([]);const[conversationEnded,setConversationEnded]=useState(false);const messagesEndRef=useRef(null);// Function to format agent response with proper structure\nconst formatAgentResponse=content=>{if(!content)return[];const elements=[];const lines=content.split('\\n');let currentSection=null;let currentSubsection=null;let currentList=[];let listLevel=0;for(let i=0;i<lines.length;i++){const line=lines[i].trim();if(!line)continue;// Main headings (## or **Title**)\nif(line.startsWith('##')||line.startsWith('**')&&line.endsWith('**')&&line.length>4){// Close any open lists\nif(currentList.length>0){elements.push({className:\"list-level-\".concat(listLevel),content:/*#__PURE__*/_jsx(\"ul\",{children:currentList.map((item,idx)=>/*#__PURE__*/_jsx(\"li\",{children:item},idx))})});currentList=[];listLevel=0;}const title=line.replace(/^##\\s*/,'').replace(/\\*\\*/g,'');elements.push({className:'main-heading',content:/*#__PURE__*/_jsx(\"h2\",{children:title})});currentSection=title;currentSubsection=null;}// Subheadings (### or **Subtitle**)\nelse if(line.startsWith('###')||line.startsWith('**')&&line.endsWith('**')&&line.length>4&&!line.includes(':')){// Close any open lists\nif(currentList.length>0){elements.push({className:\"list-level-\".concat(listLevel),content:/*#__PURE__*/_jsx(\"ul\",{children:currentList.map((item,idx)=>/*#__PURE__*/_jsx(\"li\",{children:item},idx))})});currentList=[];listLevel=0;}const subtitle=line.replace(/^###\\s*/,'').replace(/\\*\\*/g,'');elements.push({className:'sub-heading',content:/*#__PURE__*/_jsx(\"h3\",{children:subtitle})});currentSubsection=subtitle;}// List items (- or ‚Ä¢ or numbered)\nelse if(line.match(/^[-‚Ä¢]\\s+/)||line.match(/^\\d+\\.\\s+/)){const listItem=line.replace(/^[-‚Ä¢]\\s+/,'').replace(/^\\d+\\.\\s+/,'');// Check for bold text in list items\nconst formattedItem=listItem.replace(/\\*\\*(.*?)\\*\\*/g,'<strong>$1</strong>');currentList.push(/*#__PURE__*/_jsx(\"span\",{dangerouslySetInnerHTML:{__html:formattedItem}}));listLevel=1;}// Sub-list items (indented)\nelse if(line.match(/^\\s+[-‚Ä¢]\\s+/)||line.match(/^\\s+\\d+\\.\\s+/)){const listItem=line.replace(/^\\s+[-‚Ä¢]\\s+/,'').replace(/^\\s+\\d+\\.\\s+/,'');const formattedItem=listItem.replace(/\\*\\*(.*?)\\*\\*/g,'<strong>$1</strong>');currentList.push(/*#__PURE__*/_jsx(\"span\",{dangerouslySetInnerHTML:{__html:formattedItem}}));listLevel=2;}// Regular paragraphs\nelse{// Close any open lists\nif(currentList.length>0){elements.push({className:\"list-level-\".concat(listLevel),content:/*#__PURE__*/_jsx(\"ul\",{children:currentList.map((item,idx)=>/*#__PURE__*/_jsx(\"li\",{children:item},idx))})});currentList=[];listLevel=0;}// Format bold text and other markdown\nconst formattedLine=line.replace(/\\*\\*(.*?)\\*\\*/g,'<strong>$1</strong>').replace(/\\*(.*?)\\*/g,'<em>$1</em>').replace(/`(.*?)`/g,'<code>$1</code>');elements.push({className:'paragraph',content:/*#__PURE__*/_jsx(\"p\",{dangerouslySetInnerHTML:{__html:formattedLine}})});}}// Close any remaining lists\nif(currentList.length>0){elements.push({className:\"list-level-\".concat(listLevel),content:/*#__PURE__*/_jsx(\"ul\",{children:currentList.map((item,idx)=>/*#__PURE__*/_jsx(\"li\",{children:item},idx))})});}return elements;};const scrollToBottom=()=>{var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:\"smooth\"});};useEffect(()=>{scrollToBottom();},[messages]);useEffect(()=>{fetchSuggestedPrompts();},[]);const fetchSuggestedPrompts=async()=>{try{const response=await axios.get(\"\".concat(API_BASE_URL,\"/api/suggested-prompts\"));setSuggestedPrompts(response.data.prompts);}catch(error){console.error('Error fetching suggested prompts:',error);}};const sendMessage=async messageText=>{if(!messageText.trim()||isLoading||conversationEnded)return;const userMessage={role:'user',content:messageText};setMessages(prev=>[...prev,userMessage]);setInputMessage('');setIsLoading(true);try{const response=await axios.post(\"\".concat(API_BASE_URL,\"/api/chat\"),{message:messageText});const agentMessage={role:'assistant',content:response.data.response,tools_used:response.data.tools_used,pdf_data:response.data.pdf_data,pdf_filename:response.data.pdf_filename};setMessages(prev=>[...prev,agentMessage]);if(response.data.conversation_ended){setConversationEnded(true);}}catch(error){console.error('Error sending message:',error);const errorMessage={role:'assistant',content:'Sorry, I encountered an error. Please try again.',isError:true};setMessages(prev=>[...prev,errorMessage]);}finally{setIsLoading(false);}};const handleSubmit=e=>{e.preventDefault();sendMessage(inputMessage);};const handleSuggestedPrompt=prompt=>{sendMessage(prompt);};const downloadPDF=(pdfData,filename)=>{const link=document.createElement('a');link.href=\"data:application/pdf;base64,\".concat(pdfData);link.download=filename;document.body.appendChild(link);link.click();document.body.removeChild(link);};const resetConversation=()=>{setMessages([]);setConversationEnded(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"app-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83E\\uDD16 LangGraph Agent Chat\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Ask me anything about AI, machine learning, or request a PDF export!\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chat-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"messages-container\",children:[messages.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"welcome-message\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Welcome! Try one of these suggested prompts:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"suggested-prompts\",children:suggestedPrompts.map((prompt,index)=>/*#__PURE__*/_jsx(\"button\",{className:\"suggested-prompt-btn\",onClick:()=>handleSuggestedPrompt(prompt),disabled:isLoading||conversationEnded,children:prompt},index))})]}):messages.map((message,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"message \".concat(message.role),children:/*#__PURE__*/_jsxs(\"div\",{className:\"message-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"message-text\",children:[formatAgentResponse(message.content).map((element,i)=>/*#__PURE__*/_jsx(\"div\",{className:element.className,children:element.content},i)),message.tools_used&&message.tools_used.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"tools-used-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83D\\uDD27 Tools Used\"}),/*#__PURE__*/_jsx(\"div\",{className:\"tools-list\",children:message.tools_used.map((tool,index)=>/*#__PURE__*/_jsx(\"span\",{className:\"tool-badge\",children:tool},index))})]})]}),message.pdf_data&&/*#__PURE__*/_jsx(\"div\",{className:\"pdf-download\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"pdf-download-btn\",onClick:()=>downloadPDF(message.pdf_data,message.pdf_filename),children:[\"\\uD83D\\uDCC4 Download PDF: \",message.pdf_filename]})}),message.isError&&/*#__PURE__*/_jsxs(\"div\",{className:\"error-message\",children:[\"\\u26A0\\uFE0F \",message.content]})]})},index)),isLoading&&/*#__PURE__*/_jsx(\"div\",{className:\"message assistant\",children:/*#__PURE__*/_jsx(\"div\",{className:\"message-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"loading-indicator\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"typing-dots\",children:[/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{})]}),/*#__PURE__*/_jsx(\"span\",{children:\"Agent is thinking...\"})]})})}),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]}),conversationEnded&&/*#__PURE__*/_jsxs(\"div\",{className:\"conversation-ended\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\uD83D\\uDCAC Conversation ended. Start a new conversation to continue.\"}),/*#__PURE__*/_jsx(\"button\",{className:\"reset-btn\",onClick:resetConversation,children:\"Start New Conversation\"})]}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,className:\"input-form\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:inputMessage,onChange:e=>setInputMessage(e.target.value),placeholder:conversationEnded?\"Conversation ended. Start a new one.\":\"Type your message here...\",disabled:isLoading||conversationEnded,className:\"message-input\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:!inputMessage.trim()||isLoading||conversationEnded,className:\"send-button\",children:isLoading?'‚è≥':'üì§'})]})})]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","jsx","_jsx","jsxs","_jsxs","API_BASE_URL","process","env","NODE_ENV","App","messages","setMessages","inputMessage","setInputMessage","isLoading","setIsLoading","suggestedPrompts","setSuggestedPrompts","conversationEnded","setConversationEnded","messagesEndRef","formatAgentResponse","content","elements","lines","split","currentSection","currentSubsection","currentList","listLevel","i","length","line","trim","startsWith","endsWith","push","className","concat","children","map","item","idx","title","replace","includes","subtitle","match","listItem","formattedItem","dangerouslySetInnerHTML","__html","formattedLine","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","fetchSuggestedPrompts","response","get","data","prompts","error","console","sendMessage","messageText","userMessage","role","prev","post","message","agentMessage","tools_used","pdf_data","pdf_filename","conversation_ended","errorMessage","isError","handleSubmit","e","preventDefault","handleSuggestedPrompt","prompt","downloadPDF","pdfData","filename","link","document","createElement","href","download","body","appendChild","click","removeChild","resetConversation","index","onClick","disabled","element","tool","ref","onSubmit","type","value","onChange","target","placeholder"],"sources":["/Users/amar.kulkarni/code/aie2/05_Our_First_Agent_with_LangGraph/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport './App.css';\n\nconst API_BASE_URL = process.env.NODE_ENV === 'production' ? '' : 'http://localhost:8000';\n\nfunction App() {\n  const [messages, setMessages] = useState([]);\n  const [inputMessage, setInputMessage] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [suggestedPrompts, setSuggestedPrompts] = useState([]);\n  const [conversationEnded, setConversationEnded] = useState(false);\n  const messagesEndRef = useRef(null);\n\n  // Function to format agent response with proper structure\n  const formatAgentResponse = (content) => {\n    if (!content) return [];\n    \n    const elements = [];\n    const lines = content.split('\\n');\n    let currentSection = null;\n    let currentSubsection = null;\n    let currentList = [];\n    let listLevel = 0;\n    \n    for (let i = 0; i < lines.length; i++) {\n      const line = lines[i].trim();\n      \n      if (!line) continue;\n      \n      // Main headings (## or **Title**)\n      if (line.startsWith('##') || (line.startsWith('**') && line.endsWith('**') && line.length > 4)) {\n        // Close any open lists\n        if (currentList.length > 0) {\n          elements.push({\n            className: `list-level-${listLevel}`,\n            content: <ul>{currentList.map((item, idx) => <li key={idx}>{item}</li>)}</ul>\n          });\n          currentList = [];\n          listLevel = 0;\n        }\n        \n        const title = line.replace(/^##\\s*/, '').replace(/\\*\\*/g, '');\n        elements.push({\n          className: 'main-heading',\n          content: <h2>{title}</h2>\n        });\n        currentSection = title;\n        currentSubsection = null;\n      }\n      // Subheadings (### or **Subtitle**)\n      else if (line.startsWith('###') || (line.startsWith('**') && line.endsWith('**') && line.length > 4 && !line.includes(':'))) {\n        // Close any open lists\n        if (currentList.length > 0) {\n          elements.push({\n            className: `list-level-${listLevel}`,\n            content: <ul>{currentList.map((item, idx) => <li key={idx}>{item}</li>)}</ul>\n          });\n          currentList = [];\n          listLevel = 0;\n        }\n        \n        const subtitle = line.replace(/^###\\s*/, '').replace(/\\*\\*/g, '');\n        elements.push({\n          className: 'sub-heading',\n          content: <h3>{subtitle}</h3>\n        });\n        currentSubsection = subtitle;\n      }\n      // List items (- or ‚Ä¢ or numbered)\n      else if (line.match(/^[-‚Ä¢]\\s+/) || line.match(/^\\d+\\.\\s+/)) {\n        const listItem = line.replace(/^[-‚Ä¢]\\s+/, '').replace(/^\\d+\\.\\s+/, '');\n        \n        // Check for bold text in list items\n        const formattedItem = listItem.replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>');\n        \n        currentList.push(<span dangerouslySetInnerHTML={{ __html: formattedItem }} />);\n        listLevel = 1;\n      }\n      // Sub-list items (indented)\n      else if (line.match(/^\\s+[-‚Ä¢]\\s+/) || line.match(/^\\s+\\d+\\.\\s+/)) {\n        const listItem = line.replace(/^\\s+[-‚Ä¢]\\s+/, '').replace(/^\\s+\\d+\\.\\s+/, '');\n        const formattedItem = listItem.replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>');\n        \n        currentList.push(<span dangerouslySetInnerHTML={{ __html: formattedItem }} />);\n        listLevel = 2;\n      }\n      // Regular paragraphs\n      else {\n        // Close any open lists\n        if (currentList.length > 0) {\n          elements.push({\n            className: `list-level-${listLevel}`,\n            content: <ul>{currentList.map((item, idx) => <li key={idx}>{item}</li>)}</ul>\n          });\n          currentList = [];\n          listLevel = 0;\n        }\n        \n        // Format bold text and other markdown\n        const formattedLine = line\n          .replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>')\n          .replace(/\\*(.*?)\\*/g, '<em>$1</em>')\n          .replace(/`(.*?)`/g, '<code>$1</code>');\n        \n        elements.push({\n          className: 'paragraph',\n          content: <p dangerouslySetInnerHTML={{ __html: formattedLine }} />\n        });\n      }\n    }\n    \n    // Close any remaining lists\n    if (currentList.length > 0) {\n      elements.push({\n        className: `list-level-${listLevel}`,\n        content: <ul>{currentList.map((item, idx) => <li key={idx}>{item}</li>)}</ul>\n      });\n    }\n    \n    return elements;\n  };\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  useEffect(() => {\n    fetchSuggestedPrompts();\n  }, []);\n\n  const fetchSuggestedPrompts = async () => {\n    try {\n      const response = await axios.get(`${API_BASE_URL}/api/suggested-prompts`);\n      setSuggestedPrompts(response.data.prompts);\n    } catch (error) {\n      console.error('Error fetching suggested prompts:', error);\n    }\n  };\n\n  const sendMessage = async (messageText) => {\n    if (!messageText.trim() || isLoading || conversationEnded) return;\n\n    const userMessage = { role: 'user', content: messageText };\n    setMessages(prev => [...prev, userMessage]);\n    setInputMessage('');\n    setIsLoading(true);\n\n    try {\n      const response = await axios.post(`${API_BASE_URL}/api/chat`, {\n        message: messageText\n      });\n\n      const agentMessage = {\n        role: 'assistant',\n        content: response.data.response,\n        tools_used: response.data.tools_used,\n        pdf_data: response.data.pdf_data,\n        pdf_filename: response.data.pdf_filename\n      };\n\n      setMessages(prev => [...prev, agentMessage]);\n\n      if (response.data.conversation_ended) {\n        setConversationEnded(true);\n      }\n\n    } catch (error) {\n      console.error('Error sending message:', error);\n      const errorMessage = {\n        role: 'assistant',\n        content: 'Sorry, I encountered an error. Please try again.',\n        isError: true\n      };\n      setMessages(prev => [...prev, errorMessage]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    sendMessage(inputMessage);\n  };\n\n  const handleSuggestedPrompt = (prompt) => {\n    sendMessage(prompt);\n  };\n\n  const downloadPDF = (pdfData, filename) => {\n    const link = document.createElement('a');\n    link.href = `data:application/pdf;base64,${pdfData}`;\n    link.download = filename;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  };\n\n  const resetConversation = () => {\n    setMessages([]);\n    setConversationEnded(false);\n  };\n\n  return (\n    <div className=\"App\">\n      <header className=\"app-header\">\n        <h1>ü§ñ LangGraph Agent Chat</h1>\n        <p>Ask me anything about AI, machine learning, or request a PDF export!</p>\n      </header>\n\n      <div className=\"chat-container\">\n        <div className=\"messages-container\">\n          {messages.length === 0 ? (\n            <div className=\"welcome-message\">\n              <h3>Welcome! Try one of these suggested prompts:</h3>\n              <div className=\"suggested-prompts\">\n                {suggestedPrompts.map((prompt, index) => (\n                  <button\n                    key={index}\n                    className=\"suggested-prompt-btn\"\n                    onClick={() => handleSuggestedPrompt(prompt)}\n                    disabled={isLoading || conversationEnded}\n                  >\n                    {prompt}\n                  </button>\n                ))}\n              </div>\n            </div>\n          ) : (\n            messages.map((message, index) => (\n              <div key={index} className={`message ${message.role}`}>\n                <div className=\"message-content\">\n                  <div className=\"message-text\">\n                    {formatAgentResponse(message.content).map((element, i) => (\n                      <div key={i} className={element.className}>\n                        {element.content}\n                      </div>\n                    ))}\n                    \n                    {message.tools_used && message.tools_used.length > 0 && (\n                      <div className=\"tools-used-section\">\n                        <h4>üîß Tools Used</h4>\n                        <div className=\"tools-list\">\n                          {message.tools_used.map((tool, index) => (\n                            <span key={index} className=\"tool-badge\">\n                              {tool}\n                            </span>\n                          ))}\n                        </div>\n                      </div>\n                    )}\n                  </div>\n\n                  {message.pdf_data && (\n                    <div className=\"pdf-download\">\n                      <button\n                        className=\"pdf-download-btn\"\n                        onClick={() => downloadPDF(message.pdf_data, message.pdf_filename)}\n                      >\n                        üìÑ Download PDF: {message.pdf_filename}\n                      </button>\n                    </div>\n                  )}\n\n                  {message.isError && (\n                    <div className=\"error-message\">\n                      ‚ö†Ô∏è {message.content}\n                    </div>\n                  )}\n                </div>\n              </div>\n            ))\n          )}\n          \n          {isLoading && (\n            <div className=\"message assistant\">\n              <div className=\"message-content\">\n                <div className=\"loading-indicator\">\n                  <div className=\"typing-dots\">\n                    <span></span>\n                    <span></span>\n                    <span></span>\n                  </div>\n                  <span>Agent is thinking...</span>\n                </div>\n              </div>\n            </div>\n          )}\n          \n          <div ref={messagesEndRef} />\n        </div>\n\n        {conversationEnded && (\n          <div className=\"conversation-ended\">\n            <p>üí¨ Conversation ended. Start a new conversation to continue.</p>\n            <button className=\"reset-btn\" onClick={resetConversation}>\n              Start New Conversation\n            </button>\n          </div>\n        )}\n\n        <form onSubmit={handleSubmit} className=\"input-form\">\n          <div className=\"input-container\">\n            <input\n              type=\"text\"\n              value={inputMessage}\n              onChange={(e) => setInputMessage(e.target.value)}\n              placeholder={conversationEnded ? \"Conversation ended. Start a new one.\" : \"Type your message here...\"}\n              disabled={isLoading || conversationEnded}\n              className=\"message-input\"\n            />\n            <button\n              type=\"submit\"\n              disabled={!inputMessage.trim() || isLoading || conversationEnded}\n              className=\"send-button\"\n            >\n              {isLoading ? '‚è≥' : 'üì§'}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}